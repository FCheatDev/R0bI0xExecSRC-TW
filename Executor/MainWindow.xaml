<Window x:Class="Executor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Executor"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        mc:Ignorable="d"
        Title="MainWindow" Height="450" Width="800"
        WindowStyle="None"
        ResizeMode="CanResize"
        AllowsTransparency="False"
        Background="Transparent"
        SnapsToDevicePixels="True" UseLayoutRounding="True"
        TextOptions.TextFormattingMode="Display" TextOptions.TextRenderingMode="Grayscale" TextOptions.TextHintingMode="Fixed">

    <Window.Resources>
        <SolidColorBrush x:Key="PanelBrush" Color="#0F1626" />
        <SolidColorBrush x:Key="PanelBrush2" Color="#121C31" />
        <SolidColorBrush x:Key="TextBrush" Color="#C8D6F7" />
        <SolidColorBrush x:Key="SubTextBrush" Color="#8FA4D1" />

        <Style x:Key="CloseButton" TargetType="Button">
            <Setter Property="Width" Value="32" />
            <Setter Property="Height" Value="28" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="{StaticResource SubTextBrush}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="8">
                            <TextBlock Text="✕" FontSize="12" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2A3550" />
                                <Setter Property="Foreground" Value="{StaticResource TextBrush}" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Opacity" Value="0.85" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <shell:WindowChrome.WindowChrome>
        <shell:WindowChrome CaptionHeight="0" CornerRadius="3" GlassFrameThickness="0" ResizeBorderThickness="6" UseAeroCaptionButtons="False" />
    </shell:WindowChrome.WindowChrome>

    <Grid>
        <Border x:Name="RootBorder" CornerRadius="3" Background="{StaticResource PanelBrush}" BorderBrush="#323232" BorderThickness="1" SnapsToDevicePixels="True" Margin="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition x:Name="TitleBarRow" Height="44" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <Grid x:Name="TitleBar" Grid.Row="0" Background="{StaticResource PanelBrush2}" MouseLeftButtonDown="TitleBar_OnMouseLeftButtonDown">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="16,0,0,0">
                        <Ellipse Width="8" Height="8" Fill="#2D7DFF" Margin="0,0,10,0" />
                        <TextBlock x:Name="TitleText" Text="DropUI" Foreground="{StaticResource TextBrush}" FontWeight="SemiBold" />
                    </StackPanel>

                    <Button Grid.Column="1" Margin="0,0,10,0" Style="{StaticResource CloseButton}" Click="CloseButton_OnClick" />
                </Grid>

                <Grid Grid.Row="1">
                    <ContentControl x:Name="ThemeHost" />
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>
