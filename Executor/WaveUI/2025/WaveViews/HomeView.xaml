<UserControl x:Class="Executor.WaveUI.WaveViews.HomeView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:wave="clr-namespace:Executor.WaveUI"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.Resources>
        <!-- Custom ScrollBar Style -->
        <Style x:Key="HomeScrollBarStyle" TargetType="ScrollBar">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Width" Value="3" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid Background="{TemplateBinding Background}">
                            <Track x:Name="PART_Track" IsDirectionReversed="True">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Background="Transparent" BorderThickness="0" />
                                </Track.DecreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb x:Name="Thumb" Background="#0979bf" Width="3" Margin="0" BorderThickness="0" Style="{x:Null}">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Border Background="{TemplateBinding Background}" CornerRadius="2" BorderThickness="0" />
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Background="Transparent" BorderThickness="0" />
                                </Track.IncreaseRepeatButton>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Custom ScrollViewer Style -->
        <Style x:Key="HomeScrollViewerStyle" TargetType="ScrollViewer">
            <Setter Property="VerticalScrollBarVisibility" Value="Auto" />
            <Setter Property="HorizontalScrollBarVisibility" Value="Disabled" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollViewer">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            
                            <ScrollContentPresenter Grid.Column="0" Grid.Row="0" />
                            
                            <ScrollBar x:Name="PART_VerticalScrollBar" Grid.Column="1" Grid.Row="0"
                                       Style="{StaticResource HomeScrollBarStyle}"
                                       Orientation="Vertical" />
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="HomeBounceButtonStyle" TargetType="Button">
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1" />
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder" Background="{TemplateBinding Background}" CornerRadius="8" Padding="12,6">
                            <Border.RenderTransform>
                                <ScaleTransform ScaleX="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=RenderTransform.(ScaleTransform.ScaleX)}"
                                                ScaleY="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=RenderTransform.(ScaleTransform.ScaleY)}" />
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsPressed" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="0.94" Duration="0:0:0.06" />
                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="0.94" Duration="0:0:0.06" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1" Duration="0:0:0.18">
                                                <DoubleAnimation.EasingFunction>
                                                    <BackEase EasingMode="EaseOut" Amplitude="0.6" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1" Duration="0:0:0.18">
                                                <DoubleAnimation.EasingFunction>
                                                    <BackEase EasingMode="EaseOut" Amplitude="0.6" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <Grid Background="Black" Margin="12,10,12,12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2.2*" />
            <ColumnDefinition Width="2.2*" />
            <ColumnDefinition Width="1.6*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Border Grid.Column="0" Grid.Row="0" Margin="0,0,12,12" CornerRadius="12" Background="#101010" BorderBrush="#202020" BorderThickness="1">
            <Grid Margin="16">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock x:Name="WelcomeText" Text="Welcome to Wave," Foreground="#EDEDED" FontSize="18" FontWeight="SemiBold" FontFamily="{DynamicResource WaveHeadingFontFamily}" />

                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,14,0,0">
                    <Button Background="#1DA1F2" Margin="0,0,10,0" Cursor="Hand" Click="Website_OnClick" Style="{StaticResource HomeBounceButtonStyle}">
                        <StackPanel Orientation="Horizontal">
                            <wave:WaveIcon IconName="globe" Width="14" Height="14" Stretch="Uniform" />
                            <TextBlock x:Name="WebsiteText" Text="Website" Foreground="White" FontSize="12" Margin="8,0,0,0" FontWeight="Bold" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                        </StackPanel>
                    </Button>
                    <Button Background="#1A1A1A" Cursor="Hand" Click="Store_OnClick" Style="{StaticResource HomeBounceButtonStyle}">
                        <StackPanel Orientation="Horizontal">
                            <wave:WaveIcon IconName="store" Width="14" Height="14" Stretch="Uniform" />
                            <TextBlock x:Name="StoreText" Text="Store" Foreground="#EDEDED" FontWeight="SemiBold" FontSize="12" Margin="8,0,0,0" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <Border Grid.Column="1" Grid.Row="0" Margin="0,0,12,12" CornerRadius="12" Background="#101010" BorderBrush="#202020" BorderThickness="1">
            <Grid Margin="16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <StackPanel>
                    <TextBlock x:Name="SubscriptionText" Text="SUBSCRIPTION" Foreground="#9AA0A6" FontWeight="SemiBold" FontSize="12" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                    <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                        <TextBlock x:Name="KeyExpiryText" Text="Key Expiry:" Foreground="#9AA0A6" FontSize="12" Width="86" FontFamily="{DynamicResource WaveBodyAltFontFamily}" />
                        <TextBlock Text="364 Days" Foreground="#1DA1F2" FontWeight="SemiBold" FontSize="12" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,6,0,0">
                        <TextBlock x:Name="PlanText" Text="Plan:" Foreground="#9AA0A6" FontSize="12" Width="86" FontFamily="{DynamicResource WaveBodyAltFontFamily}" />
                        <TextBlock Text="Paid" Foreground="#EDEDED" FontWeight="SemiBold" FontSize="12" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                    </StackPanel>
                    <TextBlock Text="2:56 AM  -  12/25/2026" Foreground="#5D6066" FontSize="11" Margin="0,10,0,0" FontFamily="{DynamicResource WaveBodyAltFontFamily}" />
                </StackPanel>
            </Grid>
        </Border>

        <StackPanel Grid.Column="2" Grid.Row="0" Margin="0,0,0,12">
            <TextBlock x:Name="WidgetsText" Text="WIDGETS" Foreground="#9AA0A6" FontWeight="SemiBold" FontSize="12" Margin="6,0,0,8" FontFamily="{DynamicResource WaveTitleFontFamily}" />
            <Border CornerRadius="12" Background="#1DA1F2" Padding="16" Margin="0,0,0,10">
                <StackPanel>
                    <TextBlock x:Name="ReleaseText" Text="Release" Foreground="White" FontSize="16" FontWeight="SemiBold" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                    <TextBlock x:Name="ReleaseDescText" Text="Wave is finally available to the public, after&#10;many months!" Foreground="White" Opacity="0.95" FontSize="12" Margin="0,8,0,0" FontFamily="{DynamicResource WaveBodyAltFontFamily}" />
                </StackPanel>
            </Border>
            <Border CornerRadius="12" Background="#1DA1F2" Padding="16" Margin="0,0,0,10">
                <StackPanel>
                    <TextBlock x:Name="StatusText" Text="Status" Foreground="White" FontSize="16" FontWeight="SemiBold" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                    <TextBlock x:Name="StatusDescText" Text="Wave is currently undetected, and up-to&#10;date." Foreground="White" Opacity="0.95" FontSize="12" Margin="0,8,0,0" FontFamily="{DynamicResource WaveBodyAltFontFamily}" />
                </StackPanel>
            </Border>
            <Border CornerRadius="12" Background="#1DA1F2" Padding="16">
                <StackPanel>
                    <TextBlock x:Name="DiscordText" Text="Discord" Foreground="White" FontSize="16" FontWeight="SemiBold" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                    <TextBlock x:Name="DiscordDescText" Text="Join our discord server for further updates,&#10;and a community." Foreground="White" Opacity="0.95" FontSize="12" Margin="0,8,0,0" FontFamily="{DynamicResource WaveBodyAltFontFamily}" />
                </StackPanel>
            </Border>
        </StackPanel>

        <Border Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" CornerRadius="12" Background="#101010" BorderBrush="#202020" BorderThickness="1" Margin="0,0,12,0">
            <Grid Margin="16">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <StackPanel Orientation="Horizontal">
                    <TextBlock x:Name="RecentText" Text="RECENT" Foreground="#EDEDED" FontSize="14" FontWeight="SemiBold" FontFamily="{DynamicResource WaveTitleFontFamily}" />
                    <TextBlock x:Name="EditedText" Text="Edited" Foreground="#5D6066" FontSize="12" Margin="10,2,0,0" FontFamily="{DynamicResource WaveBodyAltFontFamily}" />
                </StackPanel>

                <ScrollViewer Grid.Row="2" Style="{StaticResource HomeScrollViewerStyle}" Margin="0,14,0,0" ScrollChanged="RecentScrollViewer_OnScrollChanged">
                    <StackPanel x:Name="RecentScriptsPanel">
                        <!-- RECENT scripts will be dynamically added here -->
                        <TextBlock x:Name="EndOfListText" Text="You've reached the end of the list" Foreground="#2D2D2D" 
                                   HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12" 
                                   Margin="0,3,0,0" />
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Border>
    </Grid>
</UserControl>
